"use strict";angular.module("WhiteBoardApp",["firebase","ngRoute","ngEkathuwa","angularBootstrapNavTree"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/classroom",{templateUrl:"views/classroom.html",controller:"ClassroomCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("WhiteBoardApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("WhiteBoardApp").controller("ClassroomCtrl",["$scope","$ekathuwa",function(a,b){a.directory=[{label:"AlexanderVentura",children:["Hello","World"]}],a.addNewBlackboardModal=function(){b.modal({id:"addNewBlackboard",scope:a,headerText:"Add a new Blackboard.",bodyTemplateURL:"templates/addNewBlackboardModal.html"})}}]),angular.module("WhiteBoardApp").directive("blackboard",["$timeout","angularFire",function(a,b){return{templateUrl:"views/templates/blackboard.html",restrict:"E",link:function(c,d,e){var f=d.children()[0],g="#DECDC1",h="5";f.width=e.width?e.width:1140,f.height=e.height?e.height:600;var i=new createjs.Stage(f);i.autoClear=!1,i.enableDOMEvents(!0);var j=new createjs.Shape,k="https://classnote.firebaseio.com/";c.pngCode=null,b(new Firebase(k+"test/"),c,"pngCode");var l,m,n=function(){var a=new createjs.Point(l.x+i.mouseX>>1,l.y+i.mouseY>>1);j.graphics.clear().setStrokeStyle(h,"round","round").beginStroke(g).moveTo(a.x,a.y).curveTo(l.x,l.y,m.x,m.y),l.x=i.mouseX,l.y=i.mouseY,m.x=a.x,m.y=a.y,i.update()},o=function(){i.removeEventListener("stagemousemove",n),c.$apply(function(){c.pngCode=f.toDataURL()})},p=function(){l=new createjs.Point(i.mouseX,i.mouseY),m=l,i.addEventListener("stagemousemove",n)};i.addEventListener("stagemousedown",p),i.addEventListener("stagemouseup",o),i.addChild(j),i.update();var q=function(){var b=a(function d(){var e=c.pngCode,g=f.getContext("2d"),h=new Image;h.src=e,h.onload=function(){g.drawImage(h,0,0)},b=a(d,20)},100)};q()}}}]),angular.module("WhiteBoardApp").directive("treeview",function(){return{templateUrl:"views/templates/treeView.html",scope:{data:"="},restrict:"E",link:function(){}}});